# SQL-Forum-Generator
Creates SQL database with a certain amount of categories, users and messages

# Usage
## Install
Make sure Go is already installed on your PC.

Clone this repository and install all required dependencies.

## Setup
### Database
Create a PostgreSQL database and then create following tables (all code is auto-generated by pgAdmin):
#### Users
```
CREATE TABLE public.users
(
    id uuid NOT NULL,
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT users_pk PRIMARY KEY (id)
)

```
#### Categories
```
CREATE TABLE public.categories
(
    id uuid NOT NULL,
    name character varying(255) COLLATE pg_catalog."default" NOT NULL,
    parent_id uuid,
    CONSTRAINT categories_pk PRIMARY KEY (id),
    CONSTRAINT categories_fk0 FOREIGN KEY (parent_id)
        REFERENCES public.categories (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID
)

```
#### Messages
```
CREATE TABLE public.messages
(
    id uuid NOT NULL,
    text text COLLATE pg_catalog."default" NOT NULL,
    category_id uuid NOT NULL,
    posted_at timestamp without time zone NOT NULL,
    author_id uuid NOT NULL,
    CONSTRAINT messages_pk PRIMARY KEY (id),
    CONSTRAINT messages_fk0 FOREIGN KEY (category_id)
        REFERENCES public.categories (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID,
    CONSTRAINT messages_fk1 FOREIGN KEY (author_id)
        REFERENCES public.users (id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID
)
```
### Environment variables
Create `config.env` file and setup the following variables:
```
db_user = *your_username*
db_pass = *your_password*
db_name = *your_database_name*
db_host = localhost
db_port = *postgres_server_port*
```

## Start 
Type the following code in the terminal:
```
go run main.go
```
